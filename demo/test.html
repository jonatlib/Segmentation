<html>
    <head>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
        <script src="../src/jquery.segmentation.js" type="text/javascript"></script>
        <script src="jquery.transit.min.js" type="text/javascript"></script>

        <script>
            $(document).ready(function(){
                //20 - number of segments
                //150 time out between calls
                $('.t, .test').segment({
                    timeout: 50,
                    duration: 1800,
                    animate: function(el, index, length, remove){
                        var duration = { duration: 1700, queue: false };
                        $(el).animate({
                            rotateY: '180deg' //3d rotation using http://ricostacruz.com/jquery.transit/
                        }, duration);
                        $(el).fadeOut(duration.duration, function(){ $(el).remove(); });
                    },
                    getter: function(elements){
                         var shuffle = function(o){
                            for(var j, x, i = o.length; i; j = parseInt(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
                            return o;
                        };
                        return shuffle(elements);
                    }
                });
            });
        </script>

        <style>
            .wrap { margin: 10px; width: 478px; height: 253px; }
            .test, .original { padding: 20px; background: url('img.gif'); width: 438px; height: 213px; }

            .w { width: 600px; height: 400px; }
            .t { width: 500px; height: 300px; background: #a00; padding: 50px; }
            .t h1 { color: #fff; }
            .t ul, .t li { display: block; }
            .t li { float: left; margin: 0 0 0 10px; }
            .t a { padding: 10px; background: #a33; }
        </style>
    </head>

    <body>
        <div class="w">
            <div class="t">
                <h1>Ukazka</h1>
                <ul>
                    <li><a href="#">Test</a></li>
                    <li><a href="#">Test</a></li>
                    <li><a href="#">Test</a></li>
                    <li><a href="#">Test</a></li>
                </ul>
            </div>
        </div>

        <div class="wrap">
            <div class="test">
                <h2>Tadaaa</h2>
                <p>Tohle je test</p>
                <p>Tohle je test</p>
                <ul> <li>aaa</li> </ul>
            </div>
        </div>

        <div class="wrap">
            <div class="original">
                <h2>Tadaaa</h2>
                <p>Tohle je test</p>
                <p>Tohle je test</p>
                <ul> <li>aaa</li> </ul>
            </div>
        </div>

    </body>
</html>